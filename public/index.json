[{"content":"1. ä»‹ç» scanå‘½ä»¤çš„ä½œç”¨å’Œkeys *çš„ä½œç”¨ç±»ä¼¼ï¼Œä¸»è¦ç”¨äºæŸ¥æ‰¾redisä¸­çš„é”®ï¼Œä½†æ˜¯åœ¨æ­£å¼çš„ç”Ÿäº§ç¯å¢ƒä¸­ä¸€èˆ¬ä¸ä¼šç›´æ¥ä½¿ç”¨keys *è¿™ä¸ªå‘½ä»¤ï¼Œå› ä¸ºä»–ä¼šè¿”å›æ‰€æœ‰çš„é”®ï¼Œå¦‚æœé”®çš„æ•°é‡å¾ˆå¤šä¼šå¯¼è‡´æŸ¥è¯¢æ—¶é—´å¾ˆé•¿ï¼Œè¿›è€Œå¯¼è‡´æœåŠ¡å™¨é˜»å¡ï¼Œæ‰€ä»¥éœ€è¦scanæ¥è¿›è¡Œæ›´ç»†è‡´çš„æŸ¥æ‰¾\nscanæ€»å…±æœ‰è¿™å‡ ç§å‘½ä»¤ï¼šscanã€sscanã€hscanã€zscanï¼Œåˆ†åˆ«ç”¨äºè¿­ä»£æ•°æ®åº“ä¸­çš„ï¼šæ•°æ®åº“ä¸­æ‰€æœ‰é”®ã€é›†åˆé”®ã€å“ˆå¸Œé”®ã€æœ‰åºé›†åˆé”®ï¼Œå‘½ä»¤å…·ä½“ç»“æ„å¦‚ä¸‹ï¼š\nscan cursor [MATCH pattern] [COUNT count] [TYPE type] sscan key cursor [MATCH pattern] [COUNT count] hscan key cursor [MATCH pattern] [COUNT count] zscan key cursor [MATCH pattern] [COUNT count] 2. scan scan cursor [MATCH pattern] [COUNT count] [TYPE type]ï¼Œcursorè¡¨ç¤ºæ¸¸æ ‡ï¼ŒæŒ‡æŸ¥è¯¢å¼€å§‹çš„ä½ç½®ï¼Œcounté»˜è®¤ä¸º10ï¼ŒæŸ¥è¯¢å®Œåä¼šè¿”å›ä¸‹ä¸€ä¸ªå¼€å§‹çš„æ¸¸æ ‡ï¼Œå½“è¿”å›0çš„æ—¶å€™è¡¨ç¤ºæ‰€æœ‰é”®æŸ¥è¯¢å®Œäº†\n127.0.0.1:6379[2]\u0026gt; scan 0 1) \u0026#34;3\u0026#34; 2) 1) \u0026#34;mystring\u0026#34; 2) \u0026#34;myzadd\u0026#34; 3) \u0026#34;myhset\u0026#34; 4) \u0026#34;mylist\u0026#34; 5) \u0026#34;myset2\u0026#34; 6) \u0026#34;myset1\u0026#34; 7) \u0026#34;mystring1\u0026#34; 8) \u0026#34;mystring3\u0026#34; 9) \u0026#34;mystring4\u0026#34; 10) \u0026#34;myset\u0026#34; 127.0.0.1:6379[2]\u0026gt; scan 3 1) \u0026#34;0\u0026#34; 2) 1) \u0026#34;myzadd1\u0026#34; 2) \u0026#34;mystring2\u0026#34; 3) \u0026#34;mylist2\u0026#34; 4) \u0026#34;myhset1\u0026#34; 5) \u0026#34;mylist1\u0026#34; MATCHå¯ä»¥é‡‡ç”¨æ¨¡ç³ŠåŒ¹é…æ‰¾å‡ºè‡ªå·±æƒ³è¦æŸ¥æ‰¾çš„é”®ï¼Œè¿™é‡Œçš„é€»è¾‘æ˜¯å…ˆæŸ¥å‡º20ä¸ªï¼Œå†åŒ¹é…ï¼Œè€Œä¸æ˜¯å…ˆåŒ¹é…å†æŸ¥è¯¢ï¼Œè¿™é‡ŒåŠ ä¸Šcount 20æ˜¯å› ä¸ºé»˜è®¤æŸ¥å‡ºçš„10ä¸ªæ•°ä¸­å¯èƒ½ä¸èƒ½åŒ…å«æ‰€æœ‰çš„ç›¸å…³é¡¹ï¼Œæ‰€ä»¥æŠŠèŒƒå›´æ‰©å¤§åˆ°æŸ¥20ä¸ªï¼Œæˆ‘è¿™é‡Œæµ‹è¯•çš„é”®æ€»å…±æœ‰15ä¸ª\n127.0.0.1:6379[2]\u0026gt; scan 0 match mylist* count 20 1) \u0026#34;0\u0026#34; 2) 1) \u0026#34;mylist\u0026#34; 2) \u0026#34;mylist2\u0026#34; 3) \u0026#34;mylist1\u0026#34; TYPEå¯ä»¥æ ¹æ®å…·ä½“çš„ç»“æ„ç±»å‹æ¥åŒ¹é…è¯¥ç±»å‹çš„é”®\n127.0.0.1:6379[2]\u0026gt; scan 0 count 20 type list 1) \u0026#34;0\u0026#34; 2) 1) \u0026#34;mylist\u0026#34; 2) \u0026#34;mylist2\u0026#34; 3) \u0026#34;mylist1\u0026#34; 3. sscan sscan key cursor [MATCH pattern] [COUNT count]ï¼Œsscançš„ç¬¬ä¸€ä¸ªå‚æ•°æ€»æ˜¯é›†åˆç±»å‹çš„key\n127.0.0.1:6379[2]\u0026gt; sadd myset1 a b c d (integer) 4 127.0.0.1:6379[2]\u0026gt; smembers myset1 1) \u0026#34;d\u0026#34; 2) \u0026#34;a\u0026#34; 3) \u0026#34;c\u0026#34; 4) \u0026#34;b\u0026#34; 127.0.0.1:6379[2]\u0026gt; sscan myset1 0 1) \u0026#34;0\u0026#34; 2) 1) \u0026#34;d\u0026#34; 2) \u0026#34;c\u0026#34; 3) \u0026#34;b\u0026#34; 4) \u0026#34;a\u0026#34; 127.0.0.1:6379[2]\u0026gt; sscan myset1 0 match a 1) \u0026#34;0\u0026#34; 2) 1) \u0026#34;a\u0026#34; 4. hscan hscan key cursor [MATCH pattern] [COUNT count]ï¼Œsscançš„ç¬¬ä¸€ä¸ªå‚æ•°æ€»æ˜¯å“ˆå¸Œç±»å‹çš„key\n127.0.0.1:6379[2]\u0026gt; hset myhset1 kk1 vv1 kk2 vv2 kk3 vv3 (integer) 3 127.0.0.1:6379[2]\u0026gt; hgetall myhset1 1) \u0026#34;kk1\u0026#34; 2) \u0026#34;vv1\u0026#34; 3) \u0026#34;kk2\u0026#34; 4) \u0026#34;vv2\u0026#34; 5) \u0026#34;kk3\u0026#34; 6) \u0026#34;vv3\u0026#34; 127.0.0.1:6379[2]\u0026gt; hscan myhset1 0 1) \u0026#34;0\u0026#34; 2) 1) \u0026#34;kk1\u0026#34; 2) \u0026#34;vv1\u0026#34; 3) \u0026#34;kk2\u0026#34; 4) \u0026#34;vv2\u0026#34; 5) \u0026#34;kk3\u0026#34; 6) \u0026#34;vv3\u0026#34; 5. zscan zscan key cursor [MATCH pattern] [COUNT count]ï¼Œsscançš„ç¬¬ä¸€ä¸ªå‚æ•°æ€»æ˜¯æœ‰åºé›†åˆç±»å‹çš„key\n127.0.0.1:6379[2]\u0026gt; zadd myzadd1 1 zz1 2 zz2 3 zz3 (integer) 3 127.0.0.1:6379[2]\u0026gt; zrange myzadd1 0 -1 withscores 1) \u0026#34;zz1\u0026#34; 2) \u0026#34;1\u0026#34; 3) \u0026#34;zz2\u0026#34; 4) \u0026#34;2\u0026#34; 5) \u0026#34;zz3\u0026#34; 6) \u0026#34;3\u0026#34; 127.0.0.1:6379[2]\u0026gt; zscan myzadd1 0 1) \u0026#34;0\u0026#34; 2) 1) \u0026#34;zz1\u0026#34; 2) \u0026#34;1\u0026#34; 3) \u0026#34;zz2\u0026#34; 4) \u0026#34;2\u0026#34; 5) \u0026#34;zz3\u0026#34; 6) \u0026#34;3\u0026#34; ","permalink":"http://localhost:1313/posts/tech/tech1/","summary":"1. ä»‹ç» scanå‘½ä»¤çš„ä½œç”¨å’Œkeys *çš„ä½œç”¨ç±»ä¼¼ï¼Œä¸»è¦ç”¨äºæŸ¥æ‰¾redisä¸­çš„é”®ï¼Œä½†æ˜¯åœ¨æ­£å¼çš„ç”Ÿäº§ç¯å¢ƒä¸­ä¸€èˆ¬ä¸ä¼šç›´æ¥ä½¿ç”¨keys *è¿™ä¸ªå‘½ä»¤ï¼Œå› ä¸ºä»–ä¼šè¿”å›æ‰€æœ‰çš„é”®ï¼Œå¦‚æœé”®çš„æ•°é‡å¾ˆå¤šä¼šå¯¼è‡´æŸ¥è¯¢æ—¶é—´å¾ˆé•¿ï¼Œè¿›è€Œå¯¼è‡´æœåŠ¡å™¨é˜»å¡ï¼Œæ‰€ä»¥éœ€è¦scanæ¥è¿›è¡Œæ›´ç»†è‡´çš„æŸ¥æ‰¾ scanæ€»å…±æœ‰è¿™å‡ ç§å‘½ä»¤ï¼šsca","title":"Redis scanå‘½ä»¤å­¦ä¹ "},{"content":"","permalink":"http://localhost:1313/posts/blog/blog/","summary":"","title":"Blog"},{"content":"","permalink":"http://localhost:1313/posts/life/life/","summary":"","title":"Life"},{"content":"","permalink":"http://localhost:1313/posts/read/read/","summary":"","title":"Read"},{"content":"\u0026lt;div\u0026gt; ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  \u0026lt;/div\u0026gt; ","permalink":"http://localhost:1313/posts/tech/tech/","summary":"\u0026lt;div\u0026gt; ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£ç  ç§‘æŠ€ä»£","title":"Tech"},{"content":"\rğŸ‘‰å‹é“¾æ ¼å¼\råç§°ï¼š Sulv\u0026rsquo;s Blog ç½‘å€ï¼š https://www.sulvblog.cn å›¾æ ‡ï¼š https://www.sulvblog.cn/img/Q.gif æè¿°ï¼š ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ ğŸ‘‰å‹é“¾ç”³è¯·è¦æ±‚\rç§‰æ‰¿äº’æ¢å‹é“¾åŸåˆ™ã€æ–‡ç« å®šæœŸæ›´æ–°ã€ä¸èƒ½æœ‰å¤ªå¤šå¹¿å‘Šã€ä¸ªäººæè¿°å­—æ•°æ§åˆ¶åœ¨15å­—å†…\nğŸ‘‰Hugoåšå®¢äº¤æµç¾¤\r787018782\n","permalink":"http://localhost:1313/links/","summary":"ğŸ‘‰å‹é“¾æ ¼å¼ åç§°ï¼š Sulv\u0026rsquo;s Blog ç½‘å€ï¼š https://www.sulvblog.cn å›¾æ ‡ï¼š https://www.sulvblog.cn/img/Q.gif æè¿°ï¼š ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ ğŸ‘‰å‹é“¾ç”³è¯·è¦æ±‚ ç§‰æ‰¿äº’æ¢å‹é“¾åŸåˆ™ã€æ–‡ç« å®šæœŸæ›´æ–°ã€ä¸èƒ½æœ‰å¤ªå¤šå¹¿å‘Šã€ä¸ªäººæè¿°å­—æ•°æ§åˆ¶åœ¨15å­—å†… ğŸ‘‰Hugoåšå®¢äº¤æµç¾¤ 787018782","title":"ğŸ¤å‹é“¾"},{"content":"å…³äºæˆ‘\nè‹±æ–‡å: Kevin Xu èŒä¸š: ç¨‹åºå‘˜ è¿åŠ¨: è·‘æ­¥ã€ä¹’ä¹“çƒã€çˆ¬å±± ","permalink":"http://localhost:1313/about/","summary":"å…³äºæˆ‘ è‹±æ–‡å: Kevin Xu èŒä¸š: ç¨‹åºå‘˜ è¿åŠ¨: è·‘æ­¥ã€ä¹’ä¹“çƒã€çˆ¬å±±","title":"ğŸ™‹ğŸ»â€â™‚ï¸å…³äº"},{"content":"","permalink":"http://localhost:1313/test.ya/","summary":"","title":""},{"content":"æ¦‚è¿° frp æ˜¯ä»€ä¹ˆï¼Ÿ frp æ˜¯ä¸€ä¸ªä¸“æ³¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ TCPã€UDPã€HTTPã€HTTPS ç­‰å¤šç§åè®®ã€‚å¯ä»¥å°†å†…ç½‘æœåŠ¡ä»¥å®‰å…¨ã€ä¾¿æ·çš„æ–¹å¼é€šè¿‡å…·æœ‰å…¬ç½‘ IP èŠ‚ç‚¹çš„ä¸­è½¬æš´éœ²åˆ°å…¬ç½‘ã€‚ å…·ä½“å‚è§å®˜æ–¹æ–‡æ¡£:https://github.com/fatedier/frp/blob/dev/README_zh.md\nfrpçš„å®‰è£…ä¸éƒ¨ç½² ç›®å‰å¯ä»¥åœ¨ Github çš„ Release é¡µé¢ä¸­ä¸‹è½½åˆ°æœ€æ–°ç‰ˆæœ¬çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰€æœ‰æ–‡ä»¶è¢«æ‰“åŒ…åœ¨ä¸€ä¸ªå‹ç¼©åŒ…ä¸­ã€‚\nè§£å‹ç¼©ä¸‹è½½çš„å‹ç¼©åŒ…ï¼Œå°†å…¶ä¸­çš„ frpc æ‹·è´åˆ°å†…ç½‘æœåŠ¡æ‰€åœ¨çš„æœºå™¨ä¸Šï¼Œå°† frps æ‹·è´åˆ°å…·æœ‰å…¬ç½‘ IP çš„æœºå™¨ä¸Šï¼Œæ”¾ç½®åœ¨ä»»æ„ç›®å½•ã€‚\nä½¿ç”¨systemctlæ¥æ§åˆ¶frpsåå°è‡ªå¯åŠ¨ è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒå¥½ç”¨ï¼Œå¾ˆæ–¹ä¾¿ sudo vim /lib/systemd/system/frps.service åœ¨frps.serviceé‡Œå†™å…¥ä»¥ä¸‹å†…å®¹\n[Unit] Description=fraps service After=network.target syslog.target Wants=network.target [Service] Type=simple #å¯åŠ¨æœåŠ¡çš„å‘½ä»¤ï¼ˆæ­¤å¤„å†™ä½ çš„frpsçš„å®é™…å®‰è£…ç›®å½•ï¼‰ ExecStart=/your/path/frps -c /your/path/frps.ini [Install] WantedBy=multi-user.target å¯åŠ¨ï¼šsystemctl start frps\nè‡ªå¯åŠ¨ï¼š systemctl enable frps\nä¸€å°æœåŠ¡å™¨ç©¿é€å¤šå°ä¸»æœº frpæ”¯æŒä¸€å°å…¬ç½‘æœåŠ¡å™¨ä¸ºå¤šå°å†…ç½‘ä¸»æœºæä¾›å†…ç½‘ç©¿é€æœåŠ¡ï¼Œå¯é…ç½®åŸºäºåŸŸåå’ŒåŸºäºç«¯å£çš„å†…ç½‘ç©¿é€ã€‚è€Œåªéœ€æ›´æ”¹å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ï¼ŒæœåŠ¡ç«¯ä¸ç”¨æ›´æ”¹ã€‚\né€šè¿‡è‡ªå®šä¹‰åŸŸåè®¿é—®å†…ç½‘çš„webæœåŠ¡\nserverç«¯é…ç½®ï¼š\n[common] bind_port = 7000 //æœåŠ¡ç«¯ç›‘å¬ç«¯å£ï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ vhost_http_port = 8080 ä¿®æ”¹å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ï¼š Aç”µè„‘ [common] server_addr = x.x.x.x server_port = 7000 [web] type = http local_ip = 127.0.0.1 local_port = 80 custom_domains = abc.test.com Bç”µè„‘çš„é…ç½®ä¿¡æ¯å¦‚ä¸‹ [common] server_addr = x.x.x.x server_port = 7000 [web2] type = http local_ip = 127.0.0.1 local_port = 8080 custom_domains = def.test.com å°†abc.test.comå’Œdef.test.comè§£æåˆ°ip x.x.x.xæˆ–ä¿®æ”¹hostsæ–‡ä»¶\né…ç½®å®Œæˆåå¯é€šè¿‡abc.baidu.com:8080è®¿é—®Aç”µè„‘çš„80ç«¯å£æœåŠ¡ é€šè¿‡def.baidu.com:8080è®¿é—®Bç”µè„‘çš„8080ç«¯å£æœåŠ¡\nåŸºäºtcpå®ç°å¤šå°å®¢æˆ·æœºçš„å†…ç½‘ç©¿é€\nserverç«¯é…ç½®ï¼š\n[common] bind_port = 7000 //æœåŠ¡ç«¯ç›‘å¬ç«¯å£ï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ å®¢æˆ·ç«¯:\nAç”µè„‘ï¼š [common] server_addr = x.x.x.x server_port = 7000 [ssh] type = tcp local_ip = 127.0.0.1 local_port = 22 remote_port = 6000 Bç”µè„‘: [common] server_addr = x.x.x.x server_port = 7000 [ssh] type = tcp local_ip = 127.0.0.1 local_port = 22 remote_port = 6001 é€šè¿‡x.x.x.x:6000è®¿é—®Açš„22ç«¯å£\né€šè¿‡x.x.x.x:6001è®¿é—®Bçš„22ç«¯å£\næ›´å¤šåŠŸèƒ½å‚è€ƒhttps://frps.cn/11.html\n","permalink":"http://localhost:1313/posts/frp%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/","summary":"æ¦‚è¿° frp æ˜¯ä»€ä¹ˆï¼Ÿ frp æ˜¯ä¸€ä¸ªä¸“æ³¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ TCPã€UDPã€HTTPã€HTTPS ç­‰å¤šç§åè®®ã€‚å¯ä»¥å°†å†…ç½‘æœåŠ¡ä»¥å®‰å…¨ã€ä¾¿æ·çš„æ–¹å¼é€šè¿‡å…·æœ‰å…¬ç½‘ IP èŠ‚ç‚¹çš„ä¸­è½¬æš´éœ²åˆ°å…¬ç½‘ã€‚ å…·ä½“å‚è§å®˜æ–¹æ–‡æ¡£:https://github.com/fatedier/frp/blob/dev/","title":"frpå®ç°å¤šå°ä¸»æœºå†…ç½‘ç©¿é€"},{"content":"\råœ¨AS1ã€AS2ã€AS3ä¸Šåˆ’åˆ†vlan as1 AS1(config)#vlan 10 AS1(config-vlan)#vlan 11 AS1(config-vlan)#int f0/1 AS1(config-if)#switchport mode access AS1(config-if)#switchport access vlan 11 AS1(config-if)#int g0/2 AS1(config-if)#switchport mode access AS1(config-if)#switchport access vlan 10 as2 AS2(config)#vlan 11 AS2(config-vlan)#vlan 22 AS2(config-vlan)#int f0/1 AS2(config-if)#switchport mode access AS2(config-if)#switchport access vlan 11 AS2(config-if)#int f0/2 AS2(config-if)#switchport mode access AS2(config-if)#switchport access vlan 22 as3 AS3(config)#vlan 22 AS3(config-vlan)#vlan 33 AS3(config-vlan)#int f0/1 AS3(config-if)#switchport mode access AS3(config-if)#switchport access vlan 22 AS3(config-if)#int f0/2 AS3(config-if)#switchport mode access AS3(config-if)#switchport access vlan 33 åœ¨CSä¸Šé…ç½®vlanå’Œtrunk åœ¨CSé…ç½®vlan10ã€vlan11ã€vlan22ã€vlan33ã€vlan254ï¼ŒæŠŠG1/0/10å’ŒG1/0/11åŠ å…¥vlan254ï¼ŒG1/0/1ã€G1/0/2ã€G1/0/3è®¾ä¸ºtrunkæ¨¡å¼\nCS(config)#vlan 10 CS(config-vlan)#vlan 11 CS(config-vlan)#vlan 22 CS(config-vlan)#vlan 33 CS(config-vlan)#vlan 254 CS(config-vlan)#int g1/0/10 CS(config-if)#switchport mode access CS(config-if)#switchport access vlan 254 CS(config-if)#int g1/0/11 CS(config-if)#switchport mode access CS(config-if)#switchport access vlan 254 CS(config-if)#int g1/0/1 CS(config-if)#switchport trunk encapsulation dot1q CS(config-if)#switch mode trunk CS(config-if)#int g1/0/2 CS(config-if)#switchport trunk encapsulation dot1q CS(config-if)#switch mode trunk CS(config-if)#int g1/0/3 CS(config-if)#switchport trunk encapsulation dot1q CS(config-if)#switch mode trunk åœ¨æ ¸å¿ƒä¸‰å±‚äº¤æ¢æœºCSä¸Šå¯ç”¨ä¸‰å±‚äº¤æ¢ï¼Œå¹¶è®¾ç½®vlané—´è·¯ç”± CS(config)#ip routing//å¼€å¯ä¸‰å±‚äº¤æ¢ CS(config)#int vlan 11 CS(config-if)#ip address 172.16.11.254 255.255.255.0 CS(config-if)#no shutdown CS(config-if)#int vlan 22 CS(config-if)#no shutdown CS(config-if)#int vlan 33 CS(config-if)#ip address 172.16.33.254 255.255.255.0 CS(config-if)#no shutdown CS(config-if)#int vlan 10 CS(config-if)#ip address 172.16.10.254 255.255.255.0 CS(config-if)#no shutdown CS(config-if)#int vlan 254 CS(config-if)#ip address 172.16.254.254 255.255.255.0 CS(config-if)#no shutdown é…ç½®csåˆ°fwçš„é»˜è®¤è·¯ç”±å’Œfwåˆ°å±€åŸŸç½‘çš„è·¯ç”± CS(config)#ip route 0.0.0.0 0.0.0.0 172.16.1.1 FW(config)#ip route 172.16.0.0 0.0.255.255 172.16.1.2 æ­¤æ—¶å±€åŸŸç½‘å†…vlanè·¯ç”±ä»¥é…å¥½ï¼Œç›¸åŒvlané—´å¯é€šä¿¡ã€‚\né…ç½®fwçš„å‡ºå£è·¯ç”±å’Œnat é™æ€è·¯ç”± FW(config)#ip route 0.0.0.0 0.0.0.0 1.0.0.1 é…ç½®natå®ç°äº’è”ç½‘è®¿é—® é…ç½®è½¬æ¢è®¿é—®æ§åˆ¶åˆ—è¡¨ é…ç½®natè½¬æ¢ è®¾å®šinside outside FW(config)#access-list 102 deny ip 172.16.0.0 0.0.255.255 192.168.1.0 0.0.0.255 FW(config)#access-list 102 permit ip 172.16.0.0 0.0.255.255 any FW(config)#ip nat inside source list 102 interface g0/0/0 overload FW(config)#int g0/0/0 FW(config-if)#ip nat outside FW(config-if)#int f0/0 FW(config-if)#ip nat inside åœ¨ISP1ã€ISP2ã€ISP3å¼€å¯ospf ISP1\nISP1(config)#route ospf 1 ISP1(config-router)#network 1.0.0.0 0.0.0.7 area 0 ISP1(config-router)#network 2.0.0.0 0.255.255.255 area 0 ISP1(config-router)#network 3.0.0.0 0.255.255.255 area 0 ISP2\nISP2(config)#route ospf 1 ISP2(config-router)#network 2.0.0.0 0.255.255.255 area 0 ISP2(config-router)#network 4.0.0.0 0.255.255.255 area 0 ISP2(config-router)#network 5.0.0.0 0.255.255.255 area 0 ISP3\nISP3(config)#route ospf 1 ISP3(config-router)#network 3.0.0.0 0.255.255.255 area 0 ISP3(config-router)#network 4.0.0.0 0.255.255.255 area 0 ISP3(config-router)#network 7.0.0.0 0.0.0.3 area 0 ISP3(config-router)#network 6.0.0.0 0.0.0.3 area 0 åœ¨åˆ†å…¬å¸è·¯ç”±å™¨Div_Ré…ç½®é»˜è®¤è·¯ç”±å’Œåœ°å€è½¬æ¢NAT div_R(config)#ip route 0.0.0.0 0.0.0.0 6.0.0.1 div_R(config)#access-list 102 deny ip 192.168.1.0 0.0.0.255 172.16.0.0 0.0.255.255 div_R(config)#access-list 102 permit ip 192.168.1.0 0.0.0.255 any div_R(config)#ip nat inside source list 102 interface g0/0/0 overload div_R(config)#int g0/0/0 div_R(config-if)#ip nat outside div_R(config-if)#int f0/0 div_R(config-if)#ip nat inside é…ç½®æ€»éƒ¨åˆ°åˆ†å…¬å¸ç«¯åˆ°ç«¯VPN åœ¨æ€»éƒ¨FWé…ç½®ç«¯åˆ°ç«¯IPSec VPNï¼Œå¯¹ç«¯ä¸º6.0.0.2ï¼Œè®¤è¯æ–¹å¼ä¸ºpreâˆ’shareï¼Œkeyä¸º123ï¼ŒåŠ å¯†æ–¹å¼ä¸ºahâˆ’md5âˆ’hmac espâˆ’desï¼Œä»æ€»éƒ¨172.16.0.0åˆ°åˆ†å…¬å¸192.168.1.0çš„æµé‡åŠ å¯†\nFW(config)#crypto isakmp enable FW(config)#crypto isakmp policy 1 FW(config-isakmp)#hash md5 FW(config-isakmp)#authentication pre-share FW(config)#crypto isakmp key 123 address 6.0.0.2 FW(config)#crypto ipsec transform-set testform ah-md5-hmac esp-des FW(config)#access-list 101 permit ip 172.16.0.0 0.0.255.255 192.168.1.0 0.0.0.255 FW(config)#crypto map testmap 1 ipsec-isakmp FW(config-crypto-map)#set peer 6.0.0.2 FW(config-crypto-map)#set transform-set testform FW(config-crypto-map)#match address 101 FW(config-crypto-map)#interface g0/0/0 FW(config-if)#crypto map testmap åœ¨åˆ†å…¬å¸div-Ré…ç½®ç«¯åˆ°ç«¯IPSec VPNï¼Œå¯¹ç«¯ä¸º1.0.0.2ï¼Œè®¤è¯æ–¹å¼ä¸ºpreâˆ’shareï¼Œkeyä¸º123ï¼ŒåŠ å¯†æ–¹å¼ä¸ºahâˆ’md5âˆ’hmac espâˆ’desï¼Œä»åˆ†å…¬å¸192.168.1.0åˆ°æ€»éƒ¨172.16.0.0çš„æµé‡åŠ å¯†\ndiv_R(config)#crypto isakmp enable div_R(config)#crypto isakmp policy 1 div_R(config-isakmp)#hash md5 div_R(config-isakmp)#authentication pre-share div_R(config)#crypto isakmp key 123 address 1.0.0.2 div_R(config)#crypto ipsec transform-set testform ah-md5-hmac esp-des div_R(config)#access-list 101 permit ip 192.168.1.0 0.0.0.255 172.16.0.0 0.0.255.255 div_R(config)#crypto map testmap 1 ipsec-isakmp div_R(config-crypto-map)#set peer 1.0.0.2 div_R(config-crypto-map)#set transform-set testform div_R(config-crypto-map)#match address 101 div_R(config-crypto-map)#int g0/0/0 div_R(config-if)#crypto map testmap åœ¨æ€»éƒ¨å‡ºå£è·¯ç”±å™¨ä¸Šé…ç½®é™æ€åœ°å€æ˜ å°„ï¼Œä½¿å¾—å¤–ç½‘èƒ½è®¿é—®dmz_srvæœåŠ¡å™¨ åœ¨dmz_srvå¯ç”¨httpæœåŠ¡ï¼Œå¹¶åœ¨dmz_srvä½¿ç”¨æµè§ˆå™¨è®¿é—®\nåœ¨FWé…ç½®é™æ€åœ°å€æ˜ å°„ï¼ŒæŠŠ172.16.2.1æ˜ å°„åˆ°1.0.0.3\nCODE ip nat inside source static tcp 172.16.2.1 80 1.0.0.3 80 int f0/1 ip nat inside åœ¨PC4è®¿é—®\nIPV6å®éªŒç½‘é…ç½® IPv6åœ°å€åˆ†é…è¡¨\nè®¾å¤‡å **ç«¯å£/**æ¥å£ IPv6****åœ°å€ æ©ç é•¿åº¦ ç½‘å…³ PC1 Fa0 2001::2 64 2001::1 PC2 Fa0 2001::3 64 2001::1 dmz_srv Fa0 2002::2 64 2002::1 IPv6_R G0/0 2001::1 64 æ—  FW F0/1 2002::1 64 æ—  é…ç½®PC1å’ŒPC2çš„IPv6åœ°å€\né…ç½®IPv6_Rè·¯ç”±å™¨G0/0æ¥å£çš„IPv6åœ°å€å¹¶å¯ç”¨æ¥å£\nIPv6_R(config)#int g0/0 IPv6_R(config-if)#ipv6 address 2001::1/64 IPv6_R(config-if)#no shutdown é…ç½®dmz_srvçš„IPv6åœ°å€\né…ç½®FWè·¯ç”±å™¨F0/1æ¥å£çš„IPv6åœ°å€\nFW(config)#int f0/1 FW(config-if)#ipv6 address 2001::1/64 FW(config-if)#no shutdown é…ç½®ipv6éš§é“\nFWç«¯\na)å¯ç”¨IPv6è·¯ç”± ipv6 unicast-routing b)é…ç½®åŒæ ˆæ¥å£IPv6åœ°å€ interface FastEthernet0/1 ipv6 address 2002::1/64 ipv6 enable no shutdown c)é…ç½®éš§é“æ¥å£ interface Tunnel0 ipv6 address 2000::1/64 ipv6 enable no shutdown tunnel source GigabitEthernet0/0/0 tunnel destination 7.0.0.2 tunnel mode ipv6ip d)é…ç½®IPv6è·¯ç”± ipv6 route 2001::/64 2000::2 IPV6_R\na)å¯ç”¨IPv6è·¯ç”± ipv6 unicast-routing b)é…ç½®å†…éƒ¨æ¥å£IPv6åœ°å€ interface GigabitEthernet0/0 ipv6 address 2001::1/64 ipv6 enable no shutdown c)é…ç½®éš§é“æ¥å£ interface Tunnel0 ipv6 address 2000::2/64 ipv6 enable no shutdown tunnel source GigabitEthernet0/0/0 tunnel destination 1.0.0.2 tunnel mode ipv6ip d)é…ç½®IPv6è·¯ç”± ipv6 route 2002::/64 2000::1 å…è®¸PC33-1è®¿é—®dmz_srvã€ç¦æ­¢è®¿é—®å…¶å®ƒåœ°å€ã€å…è®¸æ‰€æœ‰IPæµé‡ åœ¨fwä¸Šé…ç½®\nFW(config)#access-list 103 permit ip 172.16.33.0 0.0.0.255 172.16.2.0 0.0.0.255 FW(config)#access-list 103 deny ip 172.16.33.0 0.0.0.255 any FW(config)#access-list 103 permit ip any any FW(config)#int f0/0 FW(config-if)#ip access-group 103 in ","permalink":"http://localhost:1313/posts/%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95/","summary":"åœ¨AS1ã€AS2ã€AS3ä¸Šåˆ’åˆ†vlan as1 AS1(config)#vlan 10 AS1(config-vlan)#vlan 11 AS1(config-vlan)#int f0/1 AS1(config-if)#switchport mode access AS1(config-if)#switchport access vlan 11 AS1(config-if)#int g0/2 AS1(config-if)#switchport mode access AS1(config-if)#switchport access vlan 10 as2 AS2(config)#vlan 11 AS2(config-vlan)#vlan 22 AS2(config-vlan)#int f0/1 AS2(config-if)#switchport mode access AS2(config-if)#switchport access vlan 11 AS2(config-if)#int f0/2 AS2(config-if)#switchport mode access AS2(config-if)#switchport access vlan 22 as3 AS3(config)#vlan 22 AS3(config-vlan)#vlan 33 AS3(config-vlan)#int f0/1 AS3(config-if)#switchport mode access AS3(config-if)#switchport access vlan 22 AS3(config-if)#int f0/2 AS3(config-if)#switchport mode access AS3(config-if)#switchport access vlan 33 åœ¨CSä¸Šé…ç½®vlanå’Œtrunk åœ¨CSé…ç½®vlan10ã€vlan11ã€vlan22ã€vlan33ã€vla","title":"ç½‘ç»œè®¾è®¡åˆæµ‹"},{"content":"ä¿¡æ¯æ”¶é›†ä¸æ‰«æ ä¿¡æ¯æ”¶é›†æ˜¯æŒ‡æ”»å‡»è€…å¤šæ”»å‡»ç›®æ ‡è¿›è¡Œæœ‰è®¡åˆ’å’Œæœ‰æ­¥éª¤çš„ä¿¡æ¯æ”¶é›†ä»è€Œäº†è§£ç›®æ ‡çš„ç½‘ç»œç¯å¢ƒå’Œä¿¡æ¯å®‰å…¨çŠ¶å†µçš„è¿‡ç¨‹ã€‚\næ”»å‡»ç›®æ ‡ç½‘ç»œ åŸŸåã€IPåœ°å€ã€DNSæœåŠ¡å™¨ã€é‚®ä»¶æœåŠ¡å™¨ã€ç½‘ç»œæ‹“æ‰‘ç»“æ„ æ”»å‡»ç›®æ ‡çš„ä¸ªäºº èº«ä»½ä¿¡æ¯ã€èŒä¸šç­‰ æ”¶é›†æ–¹æ³•\næ³¨å†Œæœºæ„WhoisæŸ¥è¯¢ DNSå’ŒIPæ”¶é›† WEBä¿¡æ¯æ£€ç´¢ ç½‘ç»œæ‹“æ‰‘ä¾¦å¯Ÿ å¸¸ç”¨å·¥å…·ï¼š\nhttps://whois.aliyun.com/ï¼ˆä¸‡ç½‘ï¼‰ https://whois.chinaz.com/ dig host fierce nslookup shodan ä¸»æœºå‘ç° -sL(åˆ—è¡¨æ‰«æ)\n-sP(Pingæ‰«æ)\n-Pn(æ— ping)\n-PS(TCP SYN Ping)\n-PU(UDP Ping)\n-PR(ARP Ping)\n-n(ä¸ç”¨åŸŸåè§£æ)\n-R(ä¸ºæ‰€æœ‰ç›®æ ‡è§£æåŸŸå)\nnmap -sP -n -v 192.169.6.0/24 ç«¯å£æ‰«æ Nmapæ¼æ´æ‰«æ\nå››ç§æœ€åŸºæœ¬çš„æ‰«æï¼š\nTCP connect(-sTå‚æ•°)\nTCP SYN(-sSå‚æ•°)\nUDP(-sUå‚æ•°)\nPing(-sPå‚æ•°)\nç«¯å£çš„å‡ ç§çŠ¶æ€ï¼šopen(å¼€æ”¾çš„)ï¼Œ closed(å…³é—­çš„)ï¼Œå’Œfiltered(è¢«è¿‡æ»¤çš„) çŠ¶æ€\n-sS (TCP SYNæ‰«æ) SYNæ‰«æä½œä¸ºé»˜è®¤çš„ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„æ‰«æé€‰é¡¹ï¼Œæ˜¯æœ‰å……åˆ†ç†ç”±çš„ã€‚ å®ƒæ‰§è¡Œå¾—å¾ˆå¿«ï¼Œåœ¨ä¸€ä¸ªæ²¡æœ‰å…¥ä¾µé˜²ç«å¢™çš„å¿«é€Ÿç½‘ç»œä¸Šï¼Œæ¯ç§’é’Ÿå¯ä»¥æ‰«ææ•°åƒä¸ª ç«¯å£ã€‚ SYNæ‰«æç›¸å¯¹æ¥è¯´ä¸å¼ æ‰¬ï¼Œä¸æ˜“è¢«æ³¨æ„åˆ°ï¼Œå› ä¸ºå®ƒä»æ¥ä¸å®ŒæˆTCPè¿æ¥ã€‚ å®ƒä¹Ÿä¸åƒFin/Null/Xmasï¼ŒMaimonå’ŒIdleæ‰«æä¾èµ–äºç‰¹å®šå¹³å°ï¼Œè€Œå¯ä»¥åº”å¯¹ä»»ä½•å…¼å®¹çš„ TCPåè®®æ ˆã€‚ å®ƒè¿˜å¯ä»¥æ˜ç¡®å¯é åœ°åŒºåˆ†open(å¼€æ”¾çš„)ï¼Œ closed(å…³é—­çš„)ï¼Œå’Œfiltered(è¢«è¿‡æ»¤çš„) çŠ¶æ€ å®ƒå¸¸å¸¸è¢«ç§°ä¸ºåŠå¼€æ”¾æ‰«æï¼Œ å› ä¸ºå®ƒä¸æ‰“å¼€ä¸€ä¸ªå®Œå…¨çš„TCPè¿æ¥ã€‚å®ƒå‘é€ä¸€ä¸ªSYNæŠ¥æ–‡ï¼Œ å°±åƒæ‚¨çœŸçš„è¦æ‰“å¼€ä¸€ä¸ªè¿æ¥ï¼Œç„¶åç­‰å¾…å“åº”ã€‚ SYN/ACKè¡¨ç¤ºç«¯å£åœ¨ç›‘å¬ (å¼€æ”¾)ï¼Œè€Œ RST (å¤ä½)è¡¨ç¤ºæ²¡æœ‰ç›‘å¬è€…ã€‚å¦‚æœæ•°æ¬¡é‡å‘åä»æ²¡å“åº”ï¼Œ è¯¥ç«¯å£å°±è¢«æ ‡è®°ä¸ºè¢«è¿‡æ»¤ã€‚å¦‚æœæ”¶åˆ°ICMPä¸å¯åˆ°è¾¾é”™è¯¯ (ç±»å‹3ï¼Œä»£ç 1ï¼Œ2ï¼Œ3ï¼Œ9ï¼Œ10ï¼Œæˆ–è€…13)ï¼Œè¯¥ç«¯å£ä¹Ÿè¢«æ ‡è®°ä¸ºè¢«è¿‡æ»¤ã€‚ -sT (TCP connect()æ‰«æ) å½“SYNæ‰«æä¸èƒ½ç”¨æ—¶ï¼ŒCP Connect()æ‰«æå°±æ˜¯é»˜è®¤çš„TCPæ‰«æã€‚ å½“ç”¨æˆ·æ²¡æœ‰æƒé™å‘é€åŸå§‹æŠ¥æ–‡æˆ–è€…æ‰«æIPv6ç½‘ç»œæ—¶ï¼Œå°±æ˜¯è¿™ç§æƒ…å†µã€‚ Instead of writing raw packets as most other scan types doï¼ŒNmapé€šè¿‡åˆ›å»ºconnect() ç³»ç»Ÿè°ƒç”¨è¦æ±‚æ“ä½œç³»ç»Ÿå’Œç›®æ ‡æœºä»¥åŠç«¯å£å»ºç«‹è¿æ¥ï¼Œè€Œä¸åƒå…¶å®ƒæ‰«æç±»å‹ç›´æ¥å‘é€åŸå§‹æŠ¥æ–‡ã€‚ è¿™æ˜¯å’ŒWebæµè§ˆå™¨ï¼ŒP2På®¢æˆ·ç«¯ä»¥åŠå¤§å¤šæ•°å…¶å®ƒç½‘ç»œåº”ç”¨ç¨‹åºç”¨ä»¥å»ºç«‹è¿æ¥ä¸€æ ·çš„ é«˜å±‚ç³»ç»Ÿè°ƒç”¨ã€‚å®ƒæ˜¯å«åšBerkeley Sockets APIç¼–ç¨‹æ¥å£çš„ä¸€éƒ¨åˆ†ã€‚Nmapç”¨ è¯¥APIè·å¾—æ¯ä¸ªè¿æ¥å°è¯•çš„çŠ¶æ€ä¿¡æ¯ï¼Œè€Œä¸æ˜¯è¯»å–å“åº”çš„åŸå§‹æŠ¥æ–‡ã€‚ å½“SYNæ‰«æå¯ç”¨æ—¶ï¼Œå®ƒé€šå¸¸æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å› ä¸ºNmapå¯¹é«˜å±‚çš„ connect()è°ƒç”¨æ¯”å¯¹åŸå§‹æŠ¥æ–‡æ§åˆ¶æ›´å°‘ï¼Œ æ‰€ä»¥å‰è€…æ•ˆç‡è¾ƒä½ã€‚ è¯¥ç³»ç»Ÿè°ƒç”¨å®Œå…¨è¿æ¥åˆ°å¼€æ”¾çš„ç›®æ ‡ç«¯å£è€Œä¸æ˜¯åƒSYNæ‰«æè¿›è¡Œ åŠå¼€æ”¾çš„å¤ä½ã€‚è¿™ä¸ä»…èŠ±æ›´é•¿æ—¶é—´ï¼Œéœ€è¦æ›´å¤šæŠ¥æ–‡å¾—åˆ°åŒæ ·ä¿¡æ¯ï¼Œç›®æ ‡æœºä¹Ÿæ›´å¯èƒ½ è®°å½•ä¸‹è¿æ¥ã€‚IDS(å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ)å¯ä»¥æ•è·ä¸¤è€…ï¼Œä½†å¤§éƒ¨åˆ†æœºå™¨æ²¡æœ‰è¿™æ ·çš„è­¦æŠ¥ç³»ç»Ÿã€‚ å½“Nmapè¿æ¥ï¼Œç„¶åä¸å‘é€æ•°æ®åˆå…³é—­è¿æ¥ï¼Œ è®¸å¤šæ™®é€šUNIXç³»ç»Ÿä¸Šçš„æœåŠ¡ä¼šåœ¨syslogç•™ä¸‹è®°å½•ï¼Œæœ‰æ—¶å€™æ˜¯ä¸€æ¡åŠ å¯†çš„é”™è¯¯æ¶ˆæ¯ã€‚ æ­¤æ—¶ï¼Œæœ‰äº›çœŸæ­£å¯æ€œçš„æœåŠ¡ä¼šå´©æºƒï¼Œè™½ç„¶è¿™ä¸å¸¸å‘ç”Ÿã€‚å¦‚æœç®¡ç†å‘˜åœ¨æ—¥å¿—é‡Œçœ‹åˆ°æ¥è‡ªåŒä¸€ç³»ç»Ÿçš„ ä¸€å †è¿æ¥å°è¯•ï¼Œå¥¹åº”è¯¥çŸ¥é“å¥¹çš„ç³»ç»Ÿè¢«æ‰«æäº†ã€‚ -sU (UDPæ‰«æ) è™½ç„¶äº’è”ç½‘ä¸Šå¾ˆå¤šæµè¡Œçš„æœåŠ¡è¿è¡Œåœ¨TCP åè®®ä¸Šï¼ŒUDPæœåŠ¡ä¹Ÿä¸å°‘ã€‚ DNSï¼ŒSNMPï¼Œå’ŒDHCP (æ³¨å†Œçš„ç«¯å£æ˜¯53ï¼Œ161/162ï¼Œå’Œ67/68)æ˜¯æœ€å¸¸è§çš„ä¸‰ä¸ªã€‚ å› ä¸ºUDPæ‰«æä¸€èˆ¬è¾ƒæ…¢ï¼Œæ¯”TCPæ›´å›°éš¾ï¼Œä¸€äº›å®‰å…¨å®¡æ ¸äººå‘˜å¿½ç•¥è¿™äº›ç«¯å£ã€‚ è¿™æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºå¯æ¢æµ‹çš„UDPæœåŠ¡ç›¸å½“æ™®éï¼Œæ”»å‡»è€…å½“ç„¶ä¸ä¼šå¿½ç•¥æ•´ä¸ªåè®®ã€‚ æ‰€å¹¸ï¼ŒNmapå¯ä»¥å¸®åŠ©è®°å½•å¹¶æŠ¥å‘ŠUDPç«¯å£ã€‚ UDPæ‰«æç”¨-sUé€‰é¡¹æ¿€æ´»ã€‚å®ƒå¯ä»¥å’ŒTCPæ‰«æå¦‚ SYNæ‰«æ (-sS)ç»“åˆä½¿ç”¨æ¥åŒæ—¶æ£€æŸ¥ä¸¤ç§åè®®ã€‚ UDPæ‰«æå‘é€ç©ºçš„(æ²¡æœ‰æ•°æ®)UDPæŠ¥å¤´åˆ°æ¯ä¸ªç›®æ ‡ç«¯å£ã€‚ å¦‚æœè¿”å›ICMPç«¯å£ä¸å¯åˆ°è¾¾é”™è¯¯(ç±»å‹3ï¼Œä»£ç 3)ï¼Œ è¯¥ç«¯å£æ˜¯closed(å…³é—­çš„)ã€‚ å…¶å®ƒICMPä¸å¯åˆ°è¾¾é”™è¯¯(ç±»å‹3ï¼Œ ä»£ç 1ï¼Œ2ï¼Œ9ï¼Œ10ï¼Œæˆ–è€…13)è¡¨æ˜è¯¥ç«¯å£æ˜¯filtered(è¢«è¿‡æ»¤çš„)ã€‚ å¶å°”åœ°ï¼ŒæŸæœåŠ¡ä¼šå“åº”ä¸€ä¸ªUDPæŠ¥æ–‡ï¼Œè¯æ˜è¯¥ç«¯å£æ˜¯open(å¼€æ”¾çš„)ã€‚ å¦‚æœå‡ æ¬¡é‡è¯•åè¿˜æ²¡æœ‰å“åº”ï¼Œè¯¥ç«¯å£å°±è¢«è®¤ä¸ºæ˜¯ open|filtered(å¼€æ”¾|è¢«è¿‡æ»¤çš„)ã€‚ è¿™æ„å‘³ç€è¯¥ç«¯å£å¯èƒ½æ˜¯å¼€æ”¾çš„ï¼Œä¹Ÿå¯èƒ½åŒ…è¿‡æ»¤å™¨æ­£åœ¨å°é”é€šä¿¡ã€‚ å¯ä»¥ç”¨ç‰ˆæœ¬æ‰«æ(-sV)å¸®åŠ©åŒºåˆ†çœŸæ­£çš„å¼€æ”¾ç«¯å£å’Œè¢«è¿‡æ»¤çš„ç«¯å£ã€‚ UDPæ‰«æçš„å·¨å¤§æŒ‘æˆ˜æ˜¯æ€æ ·ä½¿å®ƒæ›´å¿«é€Ÿã€‚ å¼€æ”¾çš„å’Œè¢«è¿‡æ»¤çš„ç«¯å£å¾ˆå°‘å“åº”ï¼Œè®©Nmapè¶…æ—¶ç„¶åå†æ¢æµ‹ï¼Œä»¥é˜²æ¢æµ‹å¸§æˆ–è€… å“åº”ä¸¢å¤±ã€‚å…³é—­çš„ç«¯å£å¸¸å¸¸æ˜¯æ›´å¤§çš„é—®é¢˜ã€‚ å®ƒä»¬ä¸€èˆ¬å‘å›ä¸€ä¸ªICMPç«¯å£æ— æ³•åˆ°è¾¾é”™è¯¯ã€‚ä½†æ˜¯ä¸åƒå…³é—­çš„TCPç«¯å£å“åº”SYNæˆ–è€…Connect æ‰«ææ‰€å‘é€çš„RSTæŠ¥æ–‡ï¼Œè®¸å¤šä¸»æœºåœ¨é»˜è®¤æƒ…å†µä¸‹é™åˆ¶ICMPç«¯å£ä¸å¯åˆ°è¾¾æ¶ˆæ¯ã€‚ Linuxå’ŒSolariså¯¹æ­¤ç‰¹åˆ«ä¸¥æ ¼ã€‚ä¾‹å¦‚ï¼Œ Linux 2.4.20å†…æ ¸é™åˆ¶ä¸€ç§’é’Ÿåªå‘é€ä¸€æ¡ç›®æ ‡ä¸å¯åˆ°è¾¾æ¶ˆæ¯ (è§net/ipv4/icmpã€‚c)ã€‚ ç§˜å¯†æ‰«æï¼š\nFINæ‰«æ -sF ACKæ‰«æ -sA NULLæ‰«æ -sN XMASæ‰«æ -sX -sA (TCP ACKæ‰«æ) è¿™ç§æ‰«æä¸ç›®å‰ä¸ºæ­¢è®¨è®ºçš„å…¶å®ƒæ‰«æçš„ä¸åŒä¹‹å¤„åœ¨äº å®ƒä¸èƒ½ç¡®å®šopen(å¼€æ”¾çš„)æˆ–è€… open|filtered(å¼€æ”¾æˆ–è€…è¿‡æ»¤çš„))ç«¯å£ã€‚ å®ƒç”¨äºå‘ç°é˜²ç«å¢™è§„åˆ™ï¼Œç¡®å®šå®ƒä»¬æ˜¯æœ‰çŠ¶æ€çš„è¿˜æ˜¯æ— çŠ¶æ€çš„ï¼Œå“ªäº›ç«¯å£æ˜¯è¢«è¿‡æ»¤çš„ã€‚ ACKæ‰«ææ¢æµ‹æŠ¥æ–‡åªè®¾ç½®ACKæ ‡å¿—ä½(é™¤éæ‚¨ä½¿ç”¨ --scanflags)ã€‚å½“æ‰«ææœªè¢«è¿‡æ»¤çš„ç³»ç»Ÿæ—¶ï¼Œ open(å¼€æ”¾çš„)å’Œclosed(å…³é—­çš„) ç«¯å£ éƒ½ä¼šè¿”å›RSTæŠ¥æ–‡ã€‚NmapæŠŠå®ƒä»¬æ ‡è®°ä¸º unfiltered(æœªè¢«è¿‡æ»¤çš„)ï¼Œæ„æ€æ˜¯ ACKæŠ¥æ–‡ä¸èƒ½åˆ°è¾¾ï¼Œä½†è‡³äºå®ƒä»¬æ˜¯open(å¼€æ”¾çš„)æˆ–è€… closed(å…³é—­çš„) æ— æ³•ç¡®å®šã€‚ä¸å“åº”çš„ç«¯å£ æˆ–è€…å‘é€ç‰¹å®šçš„ICMPé”™è¯¯æ¶ˆæ¯(ç±»å‹3ï¼Œä»£å·1ï¼Œ2ï¼Œ3ï¼Œ9ï¼Œ10ï¼Œ æˆ–è€…13)çš„ç«¯å£ï¼Œæ ‡è®°ä¸º filtered(è¢«è¿‡æ»¤çš„)ã€‚ -sN; -sF; -sX (TCP Nullï¼ŒFINï¼Œand Xmasæ‰«æ) è¿™ä¸‰ç§æ‰«æç±»å‹ (ç”šè‡³ç”¨ä¸‹ä¸€èŠ‚æè¿°çš„ --scanflags é€‰é¡¹çš„æ›´å¤šç±»å‹) åœ¨TCP RFC ä¸­å‘æ˜äº†ä¸€ä¸ªå¾®å¦™çš„æ–¹æ³•æ¥åŒºåˆ†open(å¼€æ”¾çš„)å’Œ closed(å…³é—­çš„)ç«¯å£ã€‚ç¬¬65é¡µè¯´â€œå¦‚æœ [ç›®æ ‡]ç«¯å£çŠ¶æ€æ˜¯å…³é—­çš„.... è¿›å…¥çš„ä¸å«RSTçš„æŠ¥æ–‡å¯¼è‡´ä¸€ä¸ªRSTå“åº”ã€‚â€ æ¥ä¸‹æ¥çš„ä¸€é¡µ è®¨è®ºä¸è®¾ç½®SYNï¼ŒRSTï¼Œæˆ–è€…ACKä½çš„æŠ¥æ–‡å‘é€åˆ°å¼€æ”¾ç«¯å£: â€œç†è®ºä¸Šï¼Œè¿™ä¸åº”è¯¥å‘ç”Ÿï¼Œå¦‚æœæ‚¨ç¡®å®æ”¶åˆ°äº†ï¼Œä¸¢å¼ƒè¯¥æŠ¥æ–‡ï¼Œè¿”å›ã€‚ â€ å¦‚æœæ‰«æç³»ç»Ÿéµå¾ªè¯¥RFCï¼Œå½“ç«¯å£å…³é—­æ—¶ï¼Œä»»ä½•ä¸åŒ…å«SYNï¼ŒRSTï¼Œæˆ–è€…ACKä½çš„æŠ¥æ–‡ä¼šå¯¼è‡´ ä¸€ä¸ªRSTè¿”å›ï¼Œè€Œå½“ç«¯å£å¼€æ”¾æ—¶ï¼Œåº”è¯¥æ²¡æœ‰ä»»ä½•å“åº”ã€‚åªè¦ä¸åŒ…å«SYNï¼ŒRSTï¼Œæˆ–è€…ACKï¼Œ ä»»ä½•å…¶å®ƒä¸‰ç§(FINï¼ŒPSHï¼Œand URG)çš„ç»„åˆéƒ½è¡Œã€‚Nmapæœ‰ä¸‰ç§æ‰«æç±»å‹åˆ©ç”¨è¿™ä¸€ç‚¹ï¼š Nullæ‰«æ (-sN) ä¸è®¾ç½®ä»»ä½•æ ‡å¿—ä½(tcpæ ‡å¿—å¤´æ˜¯0) FINæ‰«æ (-sF) åªè®¾ç½®TCP FINæ ‡å¿—ä½ã€‚ Xmasæ‰«æ (-sX) è®¾ç½®FINï¼ŒPSHï¼Œå’ŒURGæ ‡å¿—ä½ï¼Œå°±åƒç‚¹äº®åœ£è¯æ ‘ä¸Šæ‰€æœ‰çš„ç¯ä¸€æ ·ã€‚ é™¤äº†æ¢æµ‹æŠ¥æ–‡çš„æ ‡å¿—ä½ä¸åŒï¼Œè¿™ä¸‰ç§æ‰«æåœ¨è¡Œä¸ºä¸Šå®Œå…¨ä¸€è‡´ã€‚ å¦‚æœæ”¶åˆ°ä¸€ä¸ªRSTæŠ¥æ–‡ï¼Œè¯¥ç«¯å£è¢«è®¤ä¸ºæ˜¯ closed(å…³é—­çš„)ï¼Œè€Œæ²¡æœ‰å“åº”åˆ™æ„å‘³ç€ ç«¯å£æ˜¯open|filtered(å¼€æ”¾æˆ–è€…è¢«è¿‡æ»¤çš„)ã€‚ å¦‚æœæ”¶åˆ°ICMPä¸å¯åˆ°è¾¾é”™è¯¯(ç±»å‹ 3ï¼Œä»£å· 1ï¼Œ2ï¼Œ3ï¼Œ9ï¼Œ10ï¼Œæˆ–è€…13)ï¼Œè¯¥ç«¯å£å°±è¢«æ ‡è®°ä¸º è¢«è¿‡æ»¤çš„ã€‚ è¿™äº›æ‰«æçš„å…³é”®ä¼˜åŠ¿æ˜¯å®ƒä»¬èƒ½èº²è¿‡ä¸€äº›æ— çŠ¶æ€é˜²ç«å¢™å’ŒæŠ¥æ–‡è¿‡æ»¤è·¯ç”±å™¨ã€‚ å¦ä¸€ä¸ªä¼˜åŠ¿æ˜¯è¿™äº›æ‰«æç±»å‹ç”šè‡³æ¯”SYNæ‰«æè¿˜è¦éšç§˜ä¸€äº›ã€‚ä½†æ˜¯åˆ«ä¾èµ–å®ƒ -- å¤šæ•° ç°ä»£çš„IDSäº§å“å¯ä»¥å‘ç°å®ƒä»¬ã€‚ä¸€ä¸ªå¾ˆå¤§çš„ä¸è¶³æ˜¯å¹¶éæ‰€æœ‰ç³»ç»Ÿéƒ½ä¸¥æ ¼éµå¾ªRFC 793ã€‚ è®¸å¤šç³»ç»Ÿä¸ç®¡ç«¯å£å¼€æ”¾è¿˜æ˜¯å…³é—­ï¼Œéƒ½å“åº”RSTã€‚ è¿™å¯¼è‡´æ‰€æœ‰ç«¯å£éƒ½æ ‡è®°ä¸ºclosed(å…³é—­çš„)ã€‚ è¿™æ ·çš„æ“ä½œç³»ç»Ÿä¸»è¦æœ‰Microsoft Windowsï¼Œè®¸å¤šCiscoè®¾å¤‡ï¼ŒBSDIï¼Œä»¥åŠIBM OS/400ã€‚ ä½†æ˜¯è¿™ç§æ‰«æå¯¹å¤šæ•°UNIXç³»ç»Ÿéƒ½èƒ½å·¥ä½œã€‚è¿™äº›æ‰«æçš„å¦ä¸€ä¸ªä¸è¶³æ˜¯ å®ƒä»¬ä¸èƒ½è¾¨åˆ«open(å¼€æ”¾çš„)ç«¯å£å’Œä¸€äº›ç‰¹å®šçš„ filtered(è¢«è¿‡æ»¤çš„)ç«¯å£ï¼Œä»è€Œè¿”å› open|filtered(å¼€æ”¾æˆ–è€…è¢«è¿‡æ»¤çš„)ã€‚ æœåŠ¡ç‰ˆæœ¬æ£€æµ‹\u0026amp;\u0026amp;è„šæœ¬æ‰«æ\u0026amp;\u0026amp;OSæ£€æµ‹ nmap -v -SV 192.168.7.2 æœåŠ¡ç‰ˆæœ¬æ£€æµ‹\nnmap -v -O 192.168.7.2 OSæ£€æµ‹\nnamp \u0026ndash;script\n","permalink":"http://localhost:1313/posts/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F/","summary":"ä¿¡æ¯æ”¶é›†ä¸æ‰«æ ä¿¡æ¯æ”¶é›†æ˜¯æŒ‡æ”»å‡»è€…å¤šæ”»å‡»ç›®æ ‡è¿›è¡Œæœ‰è®¡åˆ’å’Œæœ‰æ­¥éª¤çš„ä¿¡æ¯æ”¶é›†ä»è€Œäº†è§£ç›®æ ‡çš„ç½‘ç»œç¯å¢ƒå’Œä¿¡æ¯å®‰å…¨çŠ¶å†µçš„è¿‡ç¨‹ã€‚ æ”»å‡»ç›®æ ‡ç½‘ç»œ åŸŸåã€IPåœ°å€ã€DNSæœåŠ¡å™¨ã€é‚®ä»¶æœåŠ¡å™¨ã€ç½‘ç»œæ‹“æ‰‘ç»“æ„ æ”»å‡»ç›®æ ‡çš„ä¸ªäºº èº«ä»½ä¿¡æ¯ã€èŒä¸šç­‰ æ”¶é›†æ–¹æ³• æ³¨å†Œæœºæ„WhoisæŸ¥è¯¢ DNSå’ŒIPæ”¶é›† WEBä¿¡æ¯æ£€ç´¢ ç½‘ç»œæ‹“æ‰‘ä¾¦","title":"ä¿¡æ¯æ”¶é›†ä¸æ‰«æ"}]